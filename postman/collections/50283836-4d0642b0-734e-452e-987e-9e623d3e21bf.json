{
	"info": {
		"_postman_id": "50283836-4d0642b0-734e-452e-987e-9e623d3e21bf",
		"name": "UserLoginModule-Ramya",
		"description": "Testing all the endpoints under User Login Controller:\n\n1. User Sign in\n    \n2. Forgot Password Confirm Email\n    \n3. Reset Password\n    \n4. User Logout",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "csvlogin",
			"item": [
				{
					"name": "/login1",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "cedde928-261b-41b5-9445-6ddec37b44d6",
								"exec": [
									"//Extract response from Json body of API response\r",
									"let json = pm.response.json();\r",
									"\r",
									"// Extract token from response\r",
									"let token = json.token;\r",
									"\r",
									"pm.test(\"Existing User logged in successfully\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"\r",
									"    // Save token to environment\r",
									"if (token) {\r",
									"      pm.globals.set(\"auth_token\", token);\r",
									"    console.log(\"Captured token:\", token);\r",
									"} else {\r",
									"    pm.test(\"Token not found\", function () {\r",
									"        pm.expect.fail(\"Response did not contain 'token' field\");\r",
									"    });\r",
									"}\r",
									"});\r",
									"\r",
									"pm.test(\"Content-Type header is present\", function () {\r",
									"    pm.response.to.have.header(\"Content-Type\");\r",
									"});\r",
									"if (pm.response.code === 400) {\r",
									"    //Extract message from response body\r",
									"    let errorMsg = json.message;\r",
									"\r",
									"    pm.test(\"Bad Request, Invalid details : \" + errorMsg, function () {\r",
									"        pm.response.to.have.status(400);\r",
									"    });\r",
									"}\r",
									"\r",
									"let resBody = {};\r",
									"try {\r",
									"    resBody = pm.response.json();\r",
									"} catch (e) {\r",
									"    // Response is not JSON or empty\r",
									"    resBody = {};\r",
									"}\r",
									"    if (pm.response.code === 415) {\r",
									"    let errorMsg = resBody.message || \"No message provided\";\r",
									"\r",
									"    pm.test(\"UNSUPPORTED_MEDIA_TYPE : \" + errorMsg, function () {\r",
									"        pm.response.to.have.status(415);\r",
									"    });\r",
									"}"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "6a1190c9-d28d-4169-9f56-1925e211d6a2",
								"exec": [
									"// Get value from CSV column \"contentType\"\r",
									"let type = pm.variables.get(\"contentType\");   \r",
									"let mime = \"\";\r",
									"\r",
									"switch(type) {\r",
									"    case \"javascript\":\r",
									"        mime = \"application/javascript\";\r",
									"        break;\r",
									"    case \"xml\":\r",
									"        mime = \"application/xml\";\r",
									"        break;\r",
									"    case \"html\":\r",
									"        mime = \"text/html\";\r",
									"        break;\r",
									"    case \"json\":\r",
									"        mime = \"application/json\";\r",
									"        break;        \r",
									"}\r",
									"\r",
									"pm.request.headers.upsert({\r",
									"    key: \"Content-Type\",\r",
									"    value: mime\r",
									"});\r",
									"\r",
									"// Optional debug\r",
									"console.log(\"Using Content-Type:\", mime);"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"id": "50283836-0a0ce390-ea53-42cd-9687-209185cddc10",
					"protocolProfileBehavior": {
						"disableBodyPruning": true,
						"disabledSystemHeaders": {
							"content-type": true
						}
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{auth_token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"userLoginEmailId\": \"{{userLoginEmailId}}\",\r\n  \"password\": \"{{password}}\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseURL}}/login",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"login"
							]
						}
					},
					"response": []
				}
			],
			"id": "50283836-bb9e5845-00b4-4bac-a545-94fe78a0f015"
		},
		{
			"name": "Team02-User Sign In",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "5cabcb04-4a31-4736-ac3e-df9f6d4aa457",
						"exec": [
							"let json = pm.response.json();\r",
							"\r",
							"// Extract token from response\r",
							"let token = json.token;\r",
							"\r",
							"// Save token to environment\r",
							"if (token) {\r",
							"    //pm.environment.set(\"team2_auth_token\", token);\r",
							"    pm.globals.set(\"team2_auth_token\", token);\r",
							"    console.log(\"Captured token:\", token);\r",
							"} else {\r",
							"    pm.test(\"Token not found\", function () {\r",
							"        pm.expect.fail(\"Response did not contain 'token' field\");\r",
							"    });\r",
							"}"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"id": "7a714c49-b9f4-4133-ad8a-2798a14438b3",
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"id": "50283836-8664e6e0-beb7-4ef0-adcc-7b2738e287ef",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"auth": {
					"type": "noauth"
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\r\n  \"userLoginEmailId\": \"team2@gmail.com\",\r\n  \"password\": \"ApiHackathon@2\"\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{baseURL}}/login",
					"host": [
						"{{baseURL}}"
					],
					"path": [
						"login"
					]
				}
			},
			"response": []
		},
		{
			"name": "User Sign In",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "5cabcb04-4a31-4736-ac3e-df9f6d4aa457",
						"exec": [
							"let json = pm.response.json();\r",
							"\r",
							"// Extract token from response\r",
							"let token = json.token;\r",
							"\r",
							"// Save token to environment\r",
							"if (token) {\r",
							"    //pm.environment.set(\"team2_auth_token\", token);\r",
							"    pm.environment.set(\"auth_token\", token);\r",
							"    console.log(\"Captured token:\", token);\r",
							"} else {\r",
							"    pm.test(\"Token not found\", function () {\r",
							"        pm.expect.fail(\"Response did not contain 'token' field\");\r",
							"    });\r",
							"}"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"id": "7a714c49-b9f4-4133-ad8a-2798a14438b3",
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"id": "50283836-68987797-3839-4fbd-9dd0-5fd04c27b2be",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"auth": {
					"type": "noauth"
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\r\n  \"userLoginEmailId\": \"{{userEmail}}\",\r\n  \"password\": \"{{randomPassword}}\"\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{baseURL}}/login",
					"host": [
						"{{baseURL}}"
					],
					"path": [
						"login"
					]
				}
			},
			"response": []
		},
		{
			"name": "Forgot Password/Confirm Email",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "65628fdd-6063-4298-893e-efbc0be0c437",
						"exec": [
							"let json = pm.response.json();\r",
							"let token = json.token;\r",
							"\r",
							"if (pm.response.code === 201) {\r",
							"// Save token to environment\r",
							"if (token) {\r",
							"    pm.environment.set(\"auth_token\", token);\r",
							"    console.log(\"Captured token:\", token);\r",
							"} else {\r",
							"    pm.test(\"Token not found\", function () {\r",
							"        pm.expect.fail(\"Response did not contain 'token' field\");\r",
							"    });\r",
							"}\r",
							"}\r",
							"pm.test(\"Token successfully generated\", function () {\r",
							"    pm.response.to.have.status(201);\r",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"id": "50283836-a9baa484-1cb3-4bbc-b6dc-f2723080d487",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{auth_token}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n    \"userLoginEmailId\": \"{{userEmail}}\"\r\n}"
				},
				"url": {
					"raw": "{{baseURL}}/login/forgotpassword/confirmEmail",
					"host": [
						"{{baseURL}}"
					],
					"path": [
						"login",
						"forgotpassword",
						"confirmEmail"
					]
				}
			},
			"response": [
				{
					"id": "50283836-2b0d5b19-a872-483f-a52c-a48e3f9da6c9",
					"name": "ForgotPassword Confirm Email",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"userLoginEmailId\": \"{{userEmail}}\"\r\n}"
						},
						"url": {
							"raw": "{{baseURL}}/login/forgotpassword/confirmEmail",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"login",
								"forgotpassword",
								"confirmEmail"
							]
						}
					},
					"status": "Created",
					"code": 201,
					"_postman_previewlanguage": null,
					"header": [
						{
							"key": "Cache-Control",
							"value": "no-cache, no-store, max-age=0, must-revalidate"
						},
						{
							"key": "Content-Type",
							"value": "application/json"
						},
						{
							"key": "Date",
							"value": "Wed, 26 Nov 2025 22:31:29 GMT"
						},
						{
							"key": "Expires",
							"value": "0"
						},
						{
							"key": "Nel",
							"value": "{\"report_to\":\"heroku-nel\",\"response_headers\":[\"Via\"],\"max_age\":3600,\"success_fraction\":0.01,\"failure_fraction\":0.1}"
						},
						{
							"key": "Pragma",
							"value": "no-cache"
						},
						{
							"key": "Report-To",
							"value": "{\"group\":\"heroku-nel\",\"endpoints\":[{\"url\":\"https://nel.heroku.com/reports?s=WRTp%2Bzao3FNsSrs9UTp6B8ijnfPzouK0OLuVa%2FIDNSw%3D\\u0026sid=c46efe9b-d3d2-4a0c-8c76-bfafa16c5add\\u0026ts=1764196289\"}],\"max_age\":3600}"
						},
						{
							"key": "Reporting-Endpoints",
							"value": "heroku-nel=\"https://nel.heroku.com/reports?s=WRTp%2Bzao3FNsSrs9UTp6B8ijnfPzouK0OLuVa%2FIDNSw%3D&sid=c46efe9b-d3d2-4a0c-8c76-bfafa16c5add&ts=1764196289\""
						},
						{
							"key": "Server",
							"value": "Heroku"
						},
						{
							"key": "Strict-Transport-Security",
							"value": "max-age=31536000 ; includeSubDomains"
						},
						{
							"key": "Vary",
							"value": "Origin"
						},
						{
							"key": "Vary",
							"value": "Access-Control-Request-Method"
						},
						{
							"key": "Vary",
							"value": "Access-Control-Request-Headers"
						},
						{
							"key": "Via",
							"value": "1.1 heroku-router"
						},
						{
							"key": "X-Content-Type-Options",
							"value": "nosniff"
						},
						{
							"key": "X-Frame-Options",
							"value": "DENY"
						},
						{
							"key": "X-Xss-Protection",
							"value": "0"
						},
						{
							"key": "Content-Length",
							"value": "354"
						}
					],
					"cookie": [],
					"responseTime": null,
					"body": "{\n    \"token\": \"eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJIaWxkYUBnbWFpbC5jb20iLCJpYXQiOjE3NjQxOTYyODksImV4cCI6MTc2NDIwMzQ4OX0.TSvEJ6B-GxvsobHkK1yuGF2tU8XlKdfDM0zTOSk8AAteTKKOe6YMICfXpoyxTvJrYbS0Lmui-08u7Ze3K7OiTw\",\n    \"type\": \"Bearer\",\n    \"userId\": \"U276\",\n    \"email\": \"Hilda@gmail.com\",\n    \"roles\": [\n        \"ROLE_ADMIN\"\n    ],\n    \"status\": \"Email sent to your registered email Id\",\n    \"passwordExpired\": false\n}"
				}
			]
		},
		{
			"name": "Reset Password",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "58db170a-bd1f-49a4-bba1-5f953b8ed103",
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"id": "ebc6f702-01e5-4a42-9200-3d96fcc74ba8",
						"exec": [
							"function generatePassword(minLen = 8, maxLen = 32) {\r",
							"    const uppercase = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\r",
							"    const lowercase = \"abcdefghijklmnopqrstuvwxyz\";\r",
							"    const numbers   = \"0123456789\";\r",
							"    const special   = \"$@$!%*?&\";   // special chars allowed by your regex\r",
							"\r",
							"    const allChars = uppercase + lowercase + numbers + special;\r",
							"\r",
							"    // Random length between min and max\r",
							"    const length = Math.floor(Math.random() * (maxLen - minLen + 1)) + minLen;\r",
							"\r",
							"    let password = \"\";\r",
							"\r",
							"    // Ensure the password includes each required character type\r",
							"    password += uppercase[Math.floor(Math.random() * uppercase.length)];\r",
							"    password += lowercase[Math.floor(Math.random() * lowercase.length)];\r",
							"    password += numbers[Math.floor(Math.random() * numbers.length)];\r",
							"    password += special[Math.floor(Math.random() * special.length)];\r",
							"\r",
							"    // Fill the remaining characters randomly\r",
							"    for (let i = password.length; i < length; i++) {\r",
							"        password += allChars[Math.floor(Math.random() * allChars.length)];\r",
							"    }\r",
							"\r",
							"    // Shuffle characters so the required chars aren't predictable\r",
							"    password = password\r",
							"        .split(\"\")\r",
							"        .sort(() => Math.random() - 0.5)\r",
							"        .join(\"\");\r",
							"\r",
							"    return password;\r",
							"}\r",
							"\r",
							"// Generate a valid password\r",
							"let newPassword = generatePassword(8, 32);\r",
							"\r",
							"// Store it in environment\r",
							"pm.environment.set(\"password\", newPassword);\r",
							"\r",
							"console.log(\"Generated Password:\", newPassword);\r",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"id": "50283836-106165aa-e876-412f-a1b4-d5ab95aa3be2",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{auth_token}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\r\n  \"userLoginEmailId\": \"{{userEmail}}\",\r\n  \"password\": \"{{password}}\"\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{baseURL}}/resetPassword",
					"host": [
						"{{baseURL}}"
					],
					"path": [
						"resetPassword"
					]
				}
			},
			"response": [
				{
					"id": "50283836-39aa4955-4379-416f-811e-e129d37e9347",
					"name": "Reset Password",
					"originalRequest": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"userLoginEmailId\": \"{{userEmail}}\",\r\n  \"password\": \"{{randomPassword}}\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseURL}}/resetPassword",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"resetPassword"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": null,
					"header": [
						{
							"key": "Cache-Control",
							"value": "no-cache, no-store, max-age=0, must-revalidate"
						},
						{
							"key": "Content-Type",
							"value": "application/json"
						},
						{
							"key": "Date",
							"value": "Wed, 26 Nov 2025 22:39:04 GMT"
						},
						{
							"key": "Expires",
							"value": "0"
						},
						{
							"key": "Nel",
							"value": "{\"report_to\":\"heroku-nel\",\"response_headers\":[\"Via\"],\"max_age\":3600,\"success_fraction\":0.01,\"failure_fraction\":0.1}"
						},
						{
							"key": "Pragma",
							"value": "no-cache"
						},
						{
							"key": "Report-To",
							"value": "{\"group\":\"heroku-nel\",\"endpoints\":[{\"url\":\"https://nel.heroku.com/reports?s=vcA08cB8R5jqDggzaJ0AtCwBvZNAgPOhNZ0hl2G6%2Fwc%3D\\u0026sid=c46efe9b-d3d2-4a0c-8c76-bfafa16c5add\\u0026ts=1764196744\"}],\"max_age\":3600}"
						},
						{
							"key": "Reporting-Endpoints",
							"value": "heroku-nel=\"https://nel.heroku.com/reports?s=vcA08cB8R5jqDggzaJ0AtCwBvZNAgPOhNZ0hl2G6%2Fwc%3D&sid=c46efe9b-d3d2-4a0c-8c76-bfafa16c5add&ts=1764196744\""
						},
						{
							"key": "Server",
							"value": "Heroku"
						},
						{
							"key": "Strict-Transport-Security",
							"value": "max-age=31536000 ; includeSubDomains"
						},
						{
							"key": "Vary",
							"value": "Origin"
						},
						{
							"key": "Vary",
							"value": "Access-Control-Request-Method"
						},
						{
							"key": "Vary",
							"value": "Access-Control-Request-Headers"
						},
						{
							"key": "Via",
							"value": "1.1 heroku-router"
						},
						{
							"key": "X-Content-Type-Options",
							"value": "nosniff"
						},
						{
							"key": "X-Frame-Options",
							"value": "DENY"
						},
						{
							"key": "X-Xss-Protection",
							"value": "0"
						},
						{
							"key": "Content-Length",
							"value": "43"
						}
					],
					"cookie": [],
					"responseTime": null,
					"body": "{\n    \"message\": \"Password saved\",\n    \"success\": true\n}"
				}
			]
		},
		{
			"name": "User log out",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "7761c226-f018-4fa2-b945-27b202ea006b",
						"exec": [
							"pm.test(\"Status code is 200\", function () {\r",
							"    pm.response.to.have.status(200);\r",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"id": "50283836-8a0bbf35-b6a3-4f8f-a486-f075b70291da",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{auth_token}}",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{baseURL}}/logoutlms",
					"host": [
						"{{baseURL}}"
					],
					"path": [
						"logoutlms"
					]
				}
			},
			"response": []
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"id": "629242ca-41a2-476c-a182-5b5c91ed1aeb",
				"type": "text/javascript",
				"packages": {},
				"requests": {},
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"id": "2e7e6110-6747-4170-b000-e64df754c0f1",
				"type": "text/javascript",
				"packages": {},
				"requests": {},
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "randomPassword",
			"value": ""
		}
	]
}
{
	"info": {
		"_postman_id": "50283816-5ac36f49-847d-4f28-952b-ae77004b10a6",
		"name": "Program Module",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "AddNewProgram",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "2cc76ef2-859a-4b65-aa38-756821676334",
						"exec": [
							"\r",
							"// Parse the response\r",
							"let res = pm.response.json();\r",
							"if (pm.response.code === 201) {\r",
							"\r",
							"    // Validate Status Code (201 Created)\r",
							"pm.test(\"Status code is 201\", function () {\r",
							"    pm.response.to.have.status(201);\r",
							"});\r",
							"\r",
							"// Validate mandatory fields exist\r",
							"pm.test(\"Response has required fields\", function () {\r",
							"    pm.expect(res).to.have.property(\"programId\");\r",
							"    pm.expect(res).to.have.property(\"programName\");\r",
							"    pm.expect(res).to.have.property(\"programDescription\");\r",
							"    pm.expect(res).to.have.property(\"programStatus\");\r",
							"    pm.expect(res).to.have.property(\"creationTime\");\r",
							"    pm.expect(res).to.have.property(\"lastModTime\");\r",
							"});\r",
							"\r",
							"// Validate programName length\r",
							"pm.test(\"programName length valid (4–25)\", function () {\r",
							"    pm.expect(res.programName.length).to.be.within(4, 25);\r",
							"});\r",
							"\r",
							"// Validate description length\r",
							"pm.test(\"programDescription length valid (4–25)\", function () {\r",
							"    pm.expect(res.programDescription.length).to.be.within(4, 25);\r",
							"});\r",
							"\r",
							"// Validate autogenerated fields are not null\r",
							"pm.test(\"Autogenerated fields exist\", function () {\r",
							"    pm.expect(res.programId).to.be.a(\"number\");\r",
							"    pm.expect(res.creationTime).to.not.be.null;\r",
							"    pm.expect(res.lastModTime).to.not.be.null;\r",
							"});\r",
							"\r",
							"// Save programId for future calls\r",
							"let res1 = pm.response.json();\r",
							"pm.globals.set(\"programId\", res1.programId);\r",
							"}\r",
							"\r",
							"if (pm.response.code === 400) {\r",
							"    //Extract message from response body\r",
							"    let errorMsg = res.message;\r",
							"\r",
							"    pm.test(\"Bad Request, Invalid details : \" + errorMsg, function () {\r",
							"        pm.response.to.have.status(400);\r",
							"    });\r",
							"}"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"id": "c39af9f8-34d6-4ea5-8059-3c80d74e87c2",
						"exec": [
							"// Generate a random alphabetic suffix (no numbers)\r",
							"function randomString(length) {\r",
							"    let chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\";\r",
							"    let result = \"\";\r",
							"    for (let i = 0; i < length; i++) {\r",
							"        result += chars.charAt(Math.floor(Math.random() * chars.length));\r",
							"    }\r",
							"    return result;\r",
							"}\r",
							"\r",
							"// Program name: Program-<random letters>\r",
							"let progName = \"Program-\" + randomString(5);\r",
							"\r",
							"pm.environment.set(\"programName\", progName);\r",
							"\r",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"id": "50283816-d38d333a-160d-4fb8-ab98-ee4c1cc1a983",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{auth_token}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n  \"programDescription\": \"{{programDescription}}\",\r\n  \"programName\": \"{{programName}}\",\r\n  \"programStatus\": \"{{programStatus}}\"\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{baseURL}}/saveprogram",
					"host": [
						"{{baseURL}}"
					],
					"path": [
						"saveprogram"
					]
				}
			},
			"response": []
		},
		{
			"name": "GetAllPrograms",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "3603de9f-3b46-4a1e-892c-44f7b66c5e06",
						"exec": [
							"// Validate status code is 200\r",
							"pm.test(\"Status code is 200\", function () {\r",
							"    pm.response.to.have.status(200);\r",
							"});\r",
							"// Validate required fields in each program\r",
							"pm.test(\"Each Program has required fields\", function () {\r",
							"    const programs = pm.response.json();\r",
							"    \r",
							"    programs.forEach(p => {\r",
							"        pm.expect(p).to.have.property(\"programId\");\r",
							"        pm.expect(p).to.have.property(\"programName\");\r",
							"        pm.expect(p).to.have.property(\"programDescription\");\r",
							"        pm.expect(p).to.have.property(\"programStatus\");\r",
							"        pm.expect(p).to.have.property(\"creationTime\");\r",
							"        pm.expect(p).to.have.property(\"lastModTime\");\r",
							"    });\r",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"id": "50283816-82e552e0-1c4a-49ee-af28-56f2a895cae6",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{auth_token}}",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [
					{
						"key": "Accept",
						"value": "application/json",
						"type": "text",
						"disabled": true
					}
				],
				"body": {
					"mode": "raw",
					"raw": "",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{baseURL}}/allPrograms",
					"host": [
						"{{baseURL}}"
					],
					"path": [
						"allPrograms"
					],
					"query": [
						{
							"key": "",
							"value": null,
							"type": "text",
							"disabled": true
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "GetProgramByProgramId",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "ec5f5eed-395d-4b41-bfb4-f9a0106ddd4b",
						"exec": [
							"// Parse the response\r",
							"let responseData;\r",
							"try {\r",
							"    responseData = pm.response.json();\r",
							"} catch (e) {\r",
							"    responseData = null;\r",
							"}\r",
							"\r",
							"// Test for 200 OK response\r",
							"pm.test(\"Status code is 200 or 404\", function () {\r",
							"    pm.expect(pm.response.code === 200 || pm.response.code === 404).to.be.true;\r",
							"});\r",
							"\r",
							"// If program exists (200)\r",
							"if (pm.response.code === 200) {\r",
							"    pm.test(\"Response is an array\", function () {\r",
							"        pm.expect(responseData).to.be.an(\"array\");\r",
							"    });\r",
							"\r",
							"    pm.test(\"Program has required fields\", function () {\r",
							"        const program = responseData[0];\r",
							"        pm.expect(program).to.have.property(\"programId\");\r",
							"        pm.expect(program).to.have.property(\"programName\");\r",
							"        pm.expect(program).to.have.property(\"programDescription\");\r",
							"        pm.expect(program).to.have.property(\"programStatus\");\r",
							"        pm.expect(program).to.have.property(\"creationTime\");\r",
							"        pm.expect(program).to.have.property(\"lastModTime\");\r",
							"    });\r",
							"\r",
							"    pm.test(\"Field data types are correct\", function () {\r",
							"        const program = responseData[0];\r",
							"        pm.expect(program.programId).to.be.a(\"number\");\r",
							"        pm.expect(program.programName).to.be.a(\"string\");\r",
							"        pm.expect(program.programDescription).to.be.a(\"string\");\r",
							"        pm.expect(program.programStatus).to.be.a(\"string\");\r",
							"    });\r",
							"}\r",
							"\r",
							"// If program does not exist (404)\r",
							"if (pm.response.code === 404) {\r",
							"    pm.test(\"Response has message and success flag\", function () {\r",
							"        pm.expect(responseData).to.have.property(\"message\");\r",
							"        pm.expect(responseData).to.have.property(\"success\");\r",
							"        pm.expect(responseData.success).to.be.false;\r",
							"    });\r",
							"}\r",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"id": "50283816-3a07617c-c44f-4f80-b7a3-0f4c649747f8",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{auth_token}}",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text",
						"disabled": true
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{baseURL}}/programs/660",
					"host": [
						"{{baseURL}}"
					],
					"path": [
						"programs",
						"660"
					],
					"query": [
						{
							"key": "",
							"value": null,
							"type": "text",
							"disabled": true
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "GetAllPraogramsWithUsers",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "e249f795-99cf-491f-90be-a2aae071a1dd",
						"exec": [
							"pm.test(\"Status code 200\", () => pm.response.to.have.status(200));\r",
							"var jsonData = pm.response.json();\r",
							"pm.expect(jsonData).to.be.an(\"array\");\r",
							"jsonData.forEach(program => {\r",
							"    pm.expect(program).to.have.property(\"programUsers\");\r",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"id": "50283816-d39afb0f-2a0a-438f-b263-fdaad7eb433c",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{auth_token}}",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{baseURL}}/allProgramsWithUsers",
					"host": [
						"{{baseURL}}"
					],
					"path": [
						"allProgramsWithUsers"
					]
				}
			},
			"response": []
		},
		{
			"name": "UpdateProgramByProgramName",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "929c6f0d-d327-4d8b-9774-c98679fff852",
						"exec": [
							"let res;\r",
							"try {\r",
							"    res = pm.response.json();\r",
							"} catch (e) {\r",
							"    res = {};\r",
							"}\r",
							"\r",
							"// Test for valid status codes\r",
							"pm.test(\"Status code is 200, 400 or 404\", function () {\r",
							"    pm.expect([200, 400, 404]).to.include(pm.response.code);\r",
							"});\r",
							"\r",
							"// 200 OK – Program updated successfully\r",
							"if (pm.response.code === 200) {\r",
							"    pm.test(\"Program updated successfully\", function () {\r",
							"        pm.expect(res).to.have.property(\"programId\");\r",
							"        pm.expect(res).to.have.property(\"programName\");\r",
							"        pm.expect(res).to.have.property(\"programDescription\");\r",
							"        pm.expect(res).to.have.property(\"programStatus\");\r",
							"        pm.expect(res).to.have.property(\"creationTime\");\r",
							"        pm.expect(res).to.have.property(\"lastModTime\");\r",
							"    });\r",
							"\r",
							"    pm.test(\"Program fields data types\", function () {\r",
							"        pm.expect(res.programId).to.be.a(\"number\");\r",
							"        pm.expect(res.programName).to.be.a(\"string\");\r",
							"        pm.expect(res.programDescription).to.be.a(\"string\");\r",
							"        pm.expect(res.programStatus).to.be.a(\"string\");\r",
							"    });\r",
							"}\r",
							"\r",
							"// 400 Bad Request – Missing mandatory field\r",
							"if (pm.response.code === 400) {\r",
							"    pm.test(\"Response indicates missing fields\", function () {\r",
							"        pm.expect(res).to.have.property(\"message\");\r",
							"        pm.expect(res.message.toLowerCase()).to.include(\"missing\");\r",
							"    });\r",
							"}\r",
							"\r",
							"// 404 Not Found – Invalid programName\r",
							"if (pm.response.code === 404) {\r",
							"    pm.test(\"Program not found response\", function () {\r",
							"        pm.expect(res).to.have.property(\"message\");\r",
							"        pm.expect(res).to.have.property(\"success\");\r",
							"        pm.expect(res.success).to.be.false;\r",
							"    });\r",
							"}\r",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"id": "50283816-1833bbd4-571d-486f-94c0-c7c84bc15f7c",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{auth_token}}",
							"type": "string"
						}
					]
				},
				"method": "PUT",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{ \r\n  \"programDescription\": \r\n\"full-java-one\", \r\n  \"programName\": \"JavaBasics\", \r\n  \"programStatus\": \"Active\" \r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{baseURL}}/program/JavaBasics",
					"host": [
						"{{baseURL}}"
					],
					"path": [
						"program",
						"JavaBasics"
					]
				}
			},
			"response": []
		},
		{
			"name": "UpdateProgramByProgramId",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "28ff8745-5a87-4ad0-b843-f8968a41dac3",
						"exec": [
							"let res;\r",
							"try {\r",
							"    res = pm.response.json();\r",
							"} catch (e) {\r",
							"    res = {};\r",
							"}\r",
							"\r",
							"// Check for valid status codes\r",
							"pm.test(\"Status code is 200 or 404\", function () {\r",
							"    pm.expect([200, 404]).to.include(pm.response.code);\r",
							"});\r",
							"\r",
							"// 200 OK – Program updated successfully\r",
							"if (pm.response.code === 200) {\r",
							"    pm.test(\"Program updated successfully\", function () {\r",
							"        pm.expect(res).to.have.property(\"programId\");\r",
							"        pm.expect(res).to.have.property(\"programName\");\r",
							"        pm.expect(res).to.have.property(\"programDescription\");\r",
							"        pm.expect(res).to.have.property(\"programStatus\");\r",
							"        pm.expect(res).to.have.property(\"creationTime\");\r",
							"        pm.expect(res).to.have.property(\"lastModTime\");\r",
							"    });\r",
							"\r",
							"    pm.test(\"Validate data types of fields\", function () {\r",
							"        pm.expect(res.programId).to.be.a(\"number\");\r",
							"        pm.expect(res.programName).to.be.a(\"string\");\r",
							"        pm.expect(res.programDescription).to.be.a(\"string\");\r",
							"        pm.expect(res.programStatus).to.be.a(\"string\");\r",
							"    });\r",
							"}\r",
							"\r",
							"// 404 Not Found – Invalid ProgramId\r",
							"if (pm.response.code === 404) {\r",
							"    pm.test(\"Program not found response\", function () {\r",
							"        pm.expect(res).to.have.property(\"message\");\r",
							"        pm.expect(res).to.have.property(\"success\");\r",
							"        pm.expect(res.success).to.be.false;\r",
							"    });\r",
							"}\r",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"id": "50283816-e7528f19-0c98-437d-9545-2db9fa01c4b9",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{auth_token}}",
							"type": "string"
						}
					]
				},
				"method": "PUT",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{ \r\n  \"programDescription\": \r\n\"Python-java\", \r\n   \"programName\": \"PythonBasics\", \r\n  \"programStatus\": \"Active\" \r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{baseURL}}/putprogram/67",
					"host": [
						"{{baseURL}}"
					],
					"path": [
						"putprogram",
						"67"
					]
				}
			},
			"response": []
		},
		{
			"name": "DeleteProgramByProgramId",
			"id": "50283816-fb6c0b7b-a86c-4d4e-882d-3cbf8b4fccc4",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{auth_token}}",
							"type": "string"
						}
					]
				},
				"method": "DELETE",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{baseURL}}/deletebyprogid/66",
					"host": [
						"{{baseURL}}"
					],
					"path": [
						"deletebyprogid",
						"66"
					]
				}
			},
			"response": []
		},
		{
			"name": "DeleteProgramByProgramName",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "1199eb0e-c610-4cb2-8f1a-aebe730122c0",
						"exec": [
							"pm.test(\"Status code 200 or 404\", () => {\r",
							"    pm.expect(pm.response.code).to.be.oneOf([200, 404]);\r",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"id": "50283816-faed65ed-8e21-41f0-b287-f78af8b50119",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{auth_token}}",
							"type": "string"
						}
					]
				},
				"method": "DELETE",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{baseURL}}/deletebyprogname/PythonBasics",
					"host": [
						"{{baseURL}}"
					],
					"path": [
						"deletebyprogname",
						"PythonBasics"
					]
				}
			},
			"response": []
		},
		{
			"name": "Login",
			"id": "50283816-aba5e4fd-112d-48d1-a8c4-a54a8aa64cbc",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "GET",
				"header": []
			},
			"response": []
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"id": "5d1fe593-0927-4c10-8bbe-e962d2fba06e",
				"type": "text/javascript",
				"packages": {},
				"requests": {},
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"id": "6ce926bb-b0ef-4beb-a8c3-f5892c002b65",
				"type": "text/javascript",
				"packages": {},
				"requests": {},
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "baseURL",
			"value": ""
		}
	]
}